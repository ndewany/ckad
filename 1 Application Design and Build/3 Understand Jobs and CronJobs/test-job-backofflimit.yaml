apiVersion: batch/v1
kind: Job
metadata:
  name: test-job-backofflimit
spec:
  backoffLimit: 2  # Set backoffLimit to 3 retries
  ttlSecondsAfterFinished: 60
  template:
    spec:
      containers:
      - name: failing-container
        image: busybox
        command: ["sh", "-c", "exit 1"]  # The container exits with a failure (non-zero exit code)
      restartPolicy: Never

# To delete pods generated by this job, just delete the job
# You can also set a shorter ttlSecondsAfterFinished (a 60 or 120 sec is enough for this job ;) ) 
# but you need to do all your stuff (like verifications, etc) within this deadline